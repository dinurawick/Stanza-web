!function(t,i,s){const e=function(){let t=-1;if("Microsoft Internet Explorer"==navigator.appName){const i=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(t=parseFloat(RegExp.$1))}return t>-1?t:undefined}(),o=t.event;let n;const h=o.special.debouncedresize={setup(){t(this).on("resize",h.handler)},teardown(){t(this).off("resize",h.handler)},handler(t,i){const s=this,e=arguments,a=function(){t.type="debouncedresize",o.dispatch.apply(s,e)};n&&clearTimeout(n),i?a():n=setTimeout(a,h.threshold)},threshold:50},a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(i){const e=this,o=t.isFunction(t.Deferred)?t.Deferred():0,n=t.isFunction(o.notify),h=e.find("img").add(e.filter("img")),r=[],d=[],c=[];function l(){const s=t(d),n=t(c);o&&(c.length?o.reject(h,s,n):o.resolve(h)),t.isFunction(i)&&i.call(e,h,s,n)}function p(i,s){i.src!==a&&-1===t.inArray(i,r)&&(r.push(i),s?c.push(i):d.push(i),t.data(i,"imagesLoaded",{isBroken:s,src:i.src}),n&&o.notifyWith(t(i),[s,h,t(d),t(c)]),h.length===r.length&&(setTimeout(l),h.unbind(".imagesLoaded")))}return t.isPlainObject(i)&&t.each(i,(function(t,s){"callback"===t?i=s:o&&o[t](s)})),h.length?h.bind("load.imagesLoaded error.imagesLoaded",(function(t){p(t.target,"error"===t.type)})).each((function(i,e){const o=e.src,n=t.data(e,"imagesLoaded");n&&n.src===o?p(e,n.isBroken):e.complete&&e.naturalWidth!==s?p(e,0===e.naturalWidth||0===e.naturalHeight):(e.readyState||e.complete)&&(e.src=a,e.src=o)})):l(),o?o.promise(e):e};const r=t(i);t.Slicebox=function(i,s){this.$el=t(s),this._init(i)},t.Slicebox.defaults={orientation:"v",perspective:1200,cuboidsCount:5,cuboidsRandom:!1,maxCuboidsCount:5,disperseFactor:0,colorHiddenSides:"#222",sequentialFactor:150,speed:600,easing:"ease",autoplay:!1,interval:3e3,fallbackFadeSpeed:300,onBeforeChange(t){return!1},onAfterChange(t){return!1},onReady(){return!1}},t.Slicebox.prototype={_init(i){if(this.options=t.extend(!0,{},t.Slicebox.defaults,i),this._validate(),this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount)return!1;this.support=Modernizr.csstransitions&&Modernizr.csstransforms3d&&!e,this.current=0,this.isAnimating=!1,this.isReady=!1;const s=this;this.$el.imagesLoaded((function(){const t=s.$items.eq(s.current).css("display","block").addClass("sb-current");(new Image).src=t.find("img").attr("src"),s._setStyle(),s._setSize(),s._initEvents(),s.options.onReady(),s.isReady=!0}))},_validate(t){this.options.cuboidsCount<0?this.options.cuboidsCount=1:this.options.cuboidsCount>15?this.options.cuboidsCount=15:this.options.cuboidsCount%2==0&&++this.options.cuboidsCount,this.options.maxCuboidsCount<0?this.options.maxCuboidsCount=1:this.options.maxCuboidsCount>15?this.options.maxCuboidsCount=15:this.options.maxCuboidsCount%2==0&&++this.options.maxCuboidsCount,this.options.disperseFactor<0&&(this.options.disperseFactor=0),"v"!==this.options.orientation&&"h"!==this.options.orientation&&"r"!==this.options.orientation&&(this.options.orientation="v")},_setSize(){const t=this.$items.eq(this.current).find("img");this.size={width:t.width(),height:t.height()}},_setStyle(){const i=t(".wrapper").width(),s=t(".wrapper").height();this.$items.find("a,img").each((function(){t(this).css({position:"absolute",width:i,height:s})})),this.$el.css({width:i,height:s})},_initEvents(){const t=this;r.on("debouncedresize.slicebox",(function(i){t.options.onresize&&t.options.onresize.call(t,i),t._setStyle(),t._setSize()}))},_startSlideshow(){const t=this;this.slideshow=setTimeout((function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()}),this.options.interval)},_stopSlideshow(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_navigate(t,i){if(this.isAnimating||!this.isReady||this.itemsCount<2)return!1;this.isAnimating=!0,this.prev=this.current,i!==s?this.current=i:"next"===t?this.current=this.current<this.itemsCount-1?this.current+1:0:"prev"===t&&(this.current=this.current>0?this.current-1:this.itemsCount-1),this.options.onBeforeChange(this.current),this.support?(this._layout(t),this._rotate()):this._fade(t)},_fade(i){const s=this;this.$items.eq(this.prev).find("img").height();this.$items.css("position","absolute"),s.$items.find(".sb-description").removeClass("showOpac");const e=this.$items.eq(this.current),o=e.find("img");if(!o.attr("data-loaded-for-shure")){const t=o.attr("src");o.attr("src",""),o.attr("src",t),o.attr("data-loaded-for-shure","true")}e.fadeIn(this.options.fallbackFadeSpeed,(function(){t(this).css("display","block").addClass("sb-current"),s.$items.css("position","relative"),s.isAnimating=!1,o.trigger("mouseenter")})),s.$items.eq(s.prev).removeClass("sb-current").fadeOut(this.options.fallbackFadeSpeed)},_layout(i){let s=this.options.orientation;"r"===s&&(s=0===Math.floor(2*Math.random())?"v":"h"),this.options.cuboidsRandom&&(this.options.cuboidsCount=Math.floor(Math.random()*this.options.maxCuboidsCount+1)),this._validate();const e={width:this.size.width,height:this.size.height,perspective:this.options.perspective+"px"},o=t.extend(this.options,{size:this.size,items:this.$items,direction:i,prev:this.prev,current:this.current,o:s});this.$box?this.$box.css(e):this.$box=this.$box||t("<div>").addClass("sb-perspective").css(e).appendTo(this.$el),this.cuboids=[],this.$el.css("overflow","visible");for(let i=0;i<this.options.cuboidsCount;++i){const s=new t.Cuboid(o,i);this.$box.append(s.getEl()),this.cuboids.push(s)}},_rotate(){this.nextTimeouts=[];for(let s=0;s<this.options.cuboidsCount;++s){var t=this.cuboids[s],i=this;this.nextTimeouts[s]=t.rotate((function(t){if(t===i.options.cuboidsCount-1){i.$el.css("overflow","hidden"),i.isAnimating=!1,i.$box.empty();const t=i.$items.eq(i.current);t.css("display","block"),t.addClass("sb-current"),i.options.onAfterChange(i.current)}}))}const s=this.$items.eq(this.prev),e=this;this.tm1=setTimeout((function(){s.removeClass("sb-current").hide()}),0),this.tm2=setTimeout((function(){e.$box.show()}),1)},_destroy(t){let i;if(this.nextTimeouts&&this.nextTimeouts.length)for(;i=this.nextTimeouts.pop();)clearTimeout(i);clearTimeout(this.tm1),clearTimeout(this.tm2),clearTimeout(this.slideshow),this.$el.off(".slicebox").removeData("slicebox"),r.off(".slicebox"),r.off(),t.call()},add(t,i){this.$items=this.$items.add(t),this.itemsCount=this.$items.length,i&&i.call(t)},next(){this._stopSlideshow(),this._navigate("next")},previous(){this._stopSlideshow(),this._navigate("prev")},jump(t){if((t-=1)===this.current||t>=this.itemsCount||t<0)return!1;this._stopSlideshow(),this._navigate(t>this.current?"next":"prev",t)},play(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoplay=!0,this._startSlideshow())},pause(){this.isPlaying&&this._stopSlideshow()},isActive(){return this.isAnimating},destroy(t){this._destroy(t||function(){})}},t.Cuboid=function(t,i){this.config=t,this.pos=i,this.side=1,this._setSize(),this._configureStyles()},t.Cuboid.prototype={_setSize(){this.size={width:"v"===this.config.o?Math.floor(this.config.size.width/this.config.cuboidsCount):this.config.size.width,height:"v"===this.config.o?this.config.size.height:Math.floor(this.config.size.height/this.config.cuboidsCount)},this.extra="v"===this.config.o?this.config.size.width-this.size.width*this.config.cuboidsCount:this.config.size.height-this.size.height*this.config.cuboidsCount},_configureStyles(){const i=Math.ceil(this.config.cuboidsCount/2),s=this.pos<i?{zIndex:100*(this.pos+1),left:"v"===this.config.o?this.size.width*this.pos:0,top:"v"===this.config.o?0:this.size.height*this.pos}:{zIndex:100*(this.config.cuboidsCount-this.pos),left:"v"===this.config.o?this.size.width*this.pos:0,top:"v"===this.config.o?0:this.size.height*this.pos};this.disperseFactor=this.config.disperseFactor*(this.pos+1-i),this.style=t.extend({"-webkit-transition":"-webkit-transform "+this.config.speed+"ms "+this.config.easing,"-moz-transition":"-moz-transform "+this.config.speed+"ms "+this.config.easing,"-o-transition":"-o-transform "+this.config.speed+"ms "+this.config.easing,"-ms-transition":"-ms-transform "+this.config.speed+"ms "+this.config.easing,transition:"transform "+this.config.speed+"ms "+this.config.easing},s,this.size),this.animationStyles={side1:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px )"},side2:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -90deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -90deg )"},side3:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -180deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -180deg )"},side4:"v"===this.config.o?{transform:"translate3d( 0, 0, -"+this.size.height/2+"px ) rotate3d( 1, 0, 0, -270deg )"}:{transform:"translate3d( 0, 0, -"+this.size.width/2+"px ) rotate3d( 0, 1, 0, -270deg )"}};const e="v"===this.config.o?this.size.height:this.size.width;this.sidesStyles={frontSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 0deg ) translate3d( 0, 0, "+e/2+"px )"},backSideStyle:{width:this.size.width,height:this.size.height,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 180deg ) translate3d( 0, 0, "+e/2+"px ) rotateZ( 180deg )"},rightSideStyle:{width:e,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,left:"v"===this.config.o?this.size.width/2-this.size.height/2:0,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, 90deg ) translate3d( 0, 0, "+this.size.width/2+"px )"},leftSideStyle:{width:e,height:"v"===this.config.o?this.size.height:this.size.height+this.extra,left:"v"===this.config.o?this.size.width/2-this.size.height/2:0,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 0, 1, 0, -90deg ) translate3d( 0, 0, "+this.size.width/2+"px )"},topSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:e,top:"v"===this.config.o?0:this.size.height/2-this.size.width/2,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 1, 0, 0, 90deg ) translate3d( 0, 0, "+this.size.height/2+"px )"},bottomSideStyle:{width:"v"===this.config.o?this.size.width+this.extra:this.size.width,height:e,top:"v"===this.config.o?0:this.size.height/2-this.size.width/2,backgroundColor:this.config.colorHiddenSides,transform:"rotate3d( 1, 0, 0, -90deg ) translate3d( 0, 0, "+this.size.height/2+"px )"}}},getEl(){return this.$el=t("<div/>").css(this.style).css(this.animationStyles.side1).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.frontSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.backSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.rightSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.leftSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.topSideStyle)).append(t("<div/>").addClass("sb-side").css(this.sidesStyles.bottomSideStyle)),this._showImage(this.config.prev),this.$el},_showImage(t){let i,s=this.config.items.eq(t),e={"background-size":this.config.size.width+"px "+this.config.size.height+"px"};switch(e.backgroundImage="url("+s.find("img").attr("src")+")",this.side){case 1:i=0;break;case 2:i="v"===this.config.o?4:2;break;case 3:i=1;break;case 4:i="v"===this.config.o?5:3}e.backgroundPosition="v"===this.config.o?-this.pos*this.size.width+"px 0px":"0px -"+this.pos*this.size.height+"px",this.$el.children().eq(i).css(e)},rotate(t){let i,s=this;return setTimeout((function(){if("next"===s.config.direction)switch(s.side){case 1:i=s.animationStyles.side2,s.side=2;break;case 2:i=s.animationStyles.side3,s.side=3;break;case 3:i=s.animationStyles.side4,s.side=4;break;case 4:i=s.animationStyles.side1,s.side=1}else switch(s.side){case 1:i=s.animationStyles.side4,s.side=4;break;case 2:i=s.animationStyles.side1,s.side=1;break;case 3:i=s.animationStyles.side2,s.side=2;break;case 4:i=s.animationStyles.side3,s.side=3}s._showImage(s.config.current);const e={},o={};"v"===s.config.o?(e.left="+="+s.disperseFactor+"px",o.left="-="+s.disperseFactor+"px"):"h"===s.config.o&&(e.top="+="+s.disperseFactor+"px",o.top="-="+s.disperseFactor+"px"),s.$el.css(i).animate(e,s.config.speed/2).animate(o,s.config.speed/2,(function(){t&&t.call(s,s.pos)}))}),this.config.sequentialFactor*this.pos+30)}};const d=function(t){i.console&&i.console.error(t)};t.fn.slicebox=function(i){let s=t.data(this,"slicebox");if("string"==typeof i){const e=Array.prototype.slice.call(arguments,1);this.each((function(){s?t.isFunction(s[i])&&"_"!==i.charAt(0)?s[i].apply(s,e):d("no such method '"+i+"' for slicebox self"):d("cannot call methods on slicebox prior to initialization; attempted to call method '"+i+"'")}))}else this.each((function(){s?s._init():s=t.data(this,"slicebox",new t.Slicebox(i,this))}));return s}}(jQuery,window);